!function(){function t(){document.querySelectorAll(".classic-gallery-item img, .classic-logo-main img").forEach(t=>{t.complete&&0===t.naturalHeight&&e(t),t.addEventListener("error",function(){e(this)})})}function e(t){t.src.includes("default-room.png")||(t.src="/images/default-room.png",t.style.opacity="0.7",t.style.filter="sepia(50%)",t.setAttribute("title","Image could not be loaded"),t.setAttribute("alt","Default hostel room image"))}function o(){document.getElementById("classicLightbox")||document.body.insertAdjacentHTML("beforeend",'\n            <div class="classic-lightbox" id="classicLightbox" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 9999; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease;">\n                <div class="lightbox-content" style="max-width: 90vw; max-height: 90vh; position: relative; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.5); transform: scale(0.9); transition: transform 0.3s ease;">\n                    <button class="lightbox-close" aria-label="Close lightbox" style="position: absolute; top: 15px; right: 15px; background: var(--deep-red); color: white; border: 2px solid var(--gold-color); width: 40px; height: 40px; border-radius: 50%; font-size: 1.5rem; cursor: pointer; z-index: 10; display: flex; align-items: center; justify-content: center;">&times;</button>\n                    <div class="lightbox-navigation" style="position: absolute; top: 50%; transform: translateY(-50%); width: 100%; display: flex; justify-content: space-between; padding: 0 20px; z-index: 5;">\n                        <button class="lightbox-prev" aria-label="Previous image" style="background: rgba(212, 175, 55, 0.8); color: white; border: none; width: 50px; height: 50px; border-radius: 50%; font-size: 1.5rem; cursor: pointer; backdrop-filter: blur(5px);">&lt;</button>\n                        <button class="lightbox-next" aria-label="Next image" style="background: rgba(212, 175, 55, 0.8); color: white; border: none; width: 50px; height: 50px; border-radius: 50%; font-size: 1.5rem; cursor: pointer; backdrop-filter: blur(5px);">&gt;</button>\n                    </div>\n                    <div id="lightboxImageContainer" style="width: 100%; height: 70vh; display: flex; align-items: center; justify-content: center;">\n                        <img id="lightboxImage" style="max-width: 100%; max-height: 100%; object-fit: contain;" alt="">\n                    </div>\n                    <div class="lightbox-info" style="padding: 1.5rem; background: linear-gradient(135deg, var(--light-beige) 0%, #FFF8E1 100%); border-top: 3px solid var(--gold-color);">\n                        <h3 id="lightboxTitle" style="color: var(--deep-red); margin-bottom: 0.5rem; font-family: \'Georgia\', serif;"></h3>\n                        <p id="lightboxDescription" style="color: #5C4033; line-height: 1.6;"></p>\n                    </div>\n                </div>\n            </div>\n        ');const t=document.getElementById("classicLightbox"),e=document.getElementById("lightboxImage"),o=document.getElementById("lightboxTitle"),i=document.getElementById("lightboxDescription"),n=document.querySelector(".lightbox-close"),r=document.querySelector(".lightbox-prev"),s=document.querySelector(".lightbox-next");let l=[],a=0;function c(){r&&s&&(r.style.display=a>0?"flex":"none",s.style.display=a<l.length-1?"flex":"none")}function d(){a<l.length-1&&(a++,y())}function u(){a>0&&(a--,y())}function y(){const t=l[a],n=t.querySelector("img"),r=t.querySelector(".classic-gallery-overlay-content h4")?.textContent||"Hostel Image",s=t.querySelector(".classic-gallery-overlay-content p")?.textContent||"";e.style.opacity="0",setTimeout(()=>{e.src=n.src,e.alt=r,o.textContent=r,i.textContent=s,e.style.opacity="1",c()},200)}function g(){t.style.opacity="0",document.querySelector(".lightbox-content").style.transform="scale(0.9)",setTimeout(()=>{t.style.display="none",document.body.style.overflow="auto"},300)}window.openClassicLightbox=function(n,r){const s=n.querySelector("img"),d=n.querySelector(".classic-gallery-overlay-content h4")?.textContent||"Hostel Image",u=n.querySelector(".classic-gallery-overlay-content p")?.textContent||"";l=Array.from(document.querySelectorAll(".classic-gallery-item")),a=l.indexOf(n),e.src=s.src,e.alt=d,o.textContent=d,i.textContent=u,t.style.display="flex",document.body.style.overflow="hidden",setTimeout(()=>{t.style.opacity="1",document.querySelector(".lightbox-content").style.transform="scale(1)"},10),c()},n&&n.addEventListener("click",g),r&&r.addEventListener("click",u),s&&s.addEventListener("click",d),t.addEventListener("click",e=>{e.target===t&&g()}),document.addEventListener("keydown",e=>{if("flex"===t.style.display)switch(e.key){case"Escape":g();break;case"ArrowRight":d();break;case"ArrowLeft":u()}}),document.querySelectorAll(".classic-gallery-item").forEach((t,e)=>{t.style.cursor="pointer",t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.setAttribute("aria-label","View image details"),t.addEventListener("click",function(t){t.target.closest("a")||window.openClassicLightbox(this,e)}),t.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),window.openClassicLightbox(this,e))})})}function i(){if("IntersectionObserver"in window){const t=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.isIntersecting){const o=t.target;o.dataset.src&&(o.src=o.dataset.src),o.style.opacity="0",o.style.transition="opacity 0.5s ease",o.complete?o.style.opacity="1":o.addEventListener("load",function(){this.style.opacity="1"}),e.unobserve(o)}})},{rootMargin:"100px 0px",threshold:.1});document.querySelectorAll(".classic-gallery-item img").forEach(e=>{var o,i;e.dataset.src||!e.src||e.src.includes("default-room.png")||(e.dataset.src=e.src,e.src=(o=300,i=300,`data:image/svg+xml;base64,${btoa(`<svg xmlns="http://www.w3.org/2000/svg" width="${o}" height="${i}" viewBox="0 0 ${o} ${i}">\n            <rect width="100%" height="100%" fill="#F8F4E9"/>\n            <rect x="10" y="10" width="${o-20}" height="${i-20}" fill="#FFF8E1" stroke="#D4AF37" stroke-width="2"/>\n            <text x="50%" y="50%" text-anchor="middle" dy="0.3em" fill="#8B4513" font-family="Georgia" font-size="14">Loading...</text>\n        </svg>`)}`)),t.observe(e)})}}function n(){const t=document.querySelector(".classic-contact-form form");if(!t)return;t.querySelectorAll("input, textarea").forEach(t=>{t.addEventListener("invalid",function(t){t.preventDefault(),this.style.borderColor="#dc2626",this.style.boxShadow="0 0 0 3px rgba(220, 38, 38, 0.1)";let e=this.nextElementSibling;e&&e.classList.contains("form-error")||(e=document.createElement("div"),e.className="form-error",e.style.color="#dc2626",e.style.fontSize="0.875rem",e.style.marginTop="-0.5rem",e.style.marginBottom="1rem",this.parentNode.insertBefore(e,this.nextSibling)),this.validity.valueMissing?e.textContent="यो फिल्ड आवश्यक छ":this.validity.typeMismatch&&(e.textContent="कृपया सही इमेल ठेगाना लेख्नुहोस्")}),t.addEventListener("input",function(){this.style.borderColor="",this.style.boxShadow="";const t=this.nextElementSibling;t&&t.classList.contains("form-error")&&(t.textContent="")})}),t.addEventListener("submit",function(t){if(!this.checkValidity())return void t.preventDefault();const e=this.querySelector(".classic-form-button"),o=e.textContent;e.textContent="पठाइदै...",e.disabled=!0,e.style.opacity="0.7",setTimeout(()=>{e.textContent=o,e.disabled=!1,e.style.opacity="1"},5e3)})}function r(){document.querySelectorAll(".classic-stat-number").forEach(t=>{const e=parseInt(t.textContent);if(isNaN(e))return;let o=0;const i=e/30,n=setInterval(()=>{o+=i,o>=e&&(o=e,clearInterval(n)),t.textContent=Math.floor(o)},50)})}function s(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){const e=this.getAttribute("href");if("#"===e)return;const o=document.querySelector(e);o&&(t.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,null,e))})})}document.addEventListener("DOMContentLoaded",function(){t(),o(),i(),n(),r(),s(),document.body.style.opacity="0",setTimeout(()=>{document.body.style.transition="opacity 0.5s ease",document.body.style.opacity="1"},100)}),window.ClassicTheme={fixBrokenImages:t,initClassicLightbox:o,initLazyLoading:i,initFormValidation:n,animateStatistics:r,initSmoothScroll:s}}();
