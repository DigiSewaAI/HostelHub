class e{constructor(){this.currentFilter="all",this.currentSearch="",this.currentTab="photos",this.currentVideoCategory="all",this.visibleItems=12,this.currentMediaIndex=0,this.mediaItems=[],this.videoItems=[],this.isLoading=!1,this.videoPage=1,this.hasMoreVideos=!0,this.isLoadingVideos=!1,this.hdImagesLoaded=new Set,this.videoCategories={},this.currentItems=[],this.spinnerGuard=!1,this.spinnerTimeout=null;const e=new URLSearchParams(window.location.search).get("tab");!e||"videos"!==e&&"virtual-tours"!==e||(this.currentTab=e),this.init()}init(){this.hideAllSpinnersImmediately(),this.cacheElements(),this.bindEvents(),this.hideVideosPlaceholder(),"photos"===this.currentTab?(this.initMediaItems(),this.setupIntersectionObserver(),this.applyFilters()):this.handleVideoTabInitialization(),clearTimeout(this.spinnerTimeout),this.spinnerTimeout=setTimeout(()=>{this.hideAllSpinnersImmediately(),this.hideVideosPlaceholder()},100)}cacheElements(){this.elements={filterButtons:document.querySelectorAll(".filter-btn"),galleryItems:document.querySelectorAll(".gallery-item"),videoCards:document.querySelectorAll(".video-card"),searchInput:document.querySelector(".search-input"),hostelFilter:document.getElementById("hostelFilter"),loadMoreBtn:document.querySelector(".load-more-btn"),galleryModal:document.querySelector(".gallery-modal"),modalContent:document.querySelector(".modal-content"),modalClose:document.querySelector(".modal-close"),modalPrev:document.querySelector(".modal-prev"),modalNext:document.querySelector(".modal-next"),modalTitle:document.querySelector(".modal-title"),modalDescription:document.querySelector(".modal-description"),modalCategory:document.querySelector(".modal-category"),modalDate:document.querySelector(".modal-date"),modalHostel:document.querySelector(".modal-hostel"),modalRoom:document.querySelector(".modal-room"),modalHostelLink:document.querySelector(".modal-hostel-link"),galleryGrid:document.querySelector(".gallery-grid"),videosGrid:document.querySelector(".videos-grid"),loadingIndicator:document.querySelector(".gallery-loading"),videosLoadingIndicator:document.querySelector(".videos-loading"),noResults:document.querySelector(".no-results"),tabButtons:document.querySelectorAll(".tab-btn"),tabContents:document.querySelectorAll(".tab-content"),videoCategoryButtons:document.querySelectorAll(".video-category-btn"),videoCategoriesContainer:document.querySelector(".video-categories"),mealGalleryButton:document.querySelector(".meal-gallery-button"),galleryCtaButtons:document.querySelectorAll(".gallery-trial-button, .gallery-demo-button, .gallery-outline-button"),videosPlaceholder:document.querySelector(".videos-placeholder")}}hideAllSpinnersImmediately(){if(this.spinnerGuard)return;this.spinnerGuard=!0,this.elements.loadingIndicator&&(this.elements.loadingIndicator.style.display="none",this.elements.loadingIndicator.classList.add("hidden")),this.elements.videosLoadingIndicator&&(this.elements.videosLoadingIndicator.style.display="none",this.elements.videosLoadingIndicator.classList.add("hidden"));document.querySelectorAll(".spinner, .loading-spinner, .videos-placeholder .spinner").forEach(e=>{e.style.display="none",e.classList.add("hidden")}),this.elements.loadMoreBtn&&(this.elements.loadMoreBtn.disabled=!1,this.elements.loadMoreBtn.textContent="थप हेर्नुहोस्")}hideVideosPlaceholder(){if("videos"!==this.currentTab&&"virtual-tours"!==this.currentTab)return;const e=this.elements.videosPlaceholder,t=this.elements.videoCards;t&&t.length>0&&e&&(e.style.display="none",e.classList.add("hidden"),e.style.visibility="hidden",e.style.opacity="0",e.style.height="0",e.style.padding="0",e.style.margin="0",e.style.overflow="hidden")}bindEvents(){this.elements.filterButtons.forEach(e=>{e.addEventListener("click",e=>this.handleFilter(e))}),this.elements.searchInput&&(this.elements.searchInput.addEventListener("input",e=>this.handleSearch(e)),this.elements.searchInput.addEventListener("keypress",e=>{"Enter"===e.key&&this.handleSearch(e)})),this.elements.loadMoreBtn&&this.elements.loadMoreBtn.addEventListener("click",()=>this.loadMoreItems()),"photos"===this.currentTab&&this.elements.galleryItems.forEach((e,t)=>{e.addEventListener("click",e=>{e.target.closest(".hostel-link-enhanced, .quick-view-btn")||this.openModal(t,"photo")})}),this.elements.modalClose&&this.elements.modalClose.addEventListener("click",()=>this.closeModal()),this.elements.modalPrev&&this.elements.modalPrev.addEventListener("click",()=>this.navigateModal(-1)),this.elements.modalNext&&this.elements.modalNext.addEventListener("click",()=>this.navigateModal(1)),this.attachVideoCardEvents(),this.elements.tabButtons&&this.elements.tabButtons.forEach(e=>{e.addEventListener("click",t=>{const n=e.getAttribute("href").includes("videos")?"videos":e.getAttribute("href").includes("virtual-tours")?"virtual-tours":"photos";if("videos"===n||"virtual-tours"===n)return t.preventDefault(),void(window.location.href=e.getAttribute("href"));e.classList.contains("active")?t.preventDefault():this.handleTabSwitch(t)})}),this.elements.videoCategoryButtons&&"videos"===this.currentTab&&this.elements.videoCategoryButtons.forEach(e=>{e.addEventListener("click",t=>{const n=e.dataset.category;if(n&&n!==this.currentVideoCategory){t.preventDefault();const e=new URL(window.location);e.searchParams.set("video_category",n),window.location.href=e.toString()}})}),this.elements.mealGalleryButton&&this.elements.mealGalleryButton.addEventListener("click",e=>{e.preventDefault(),window.location.href=this.elements.mealGalleryButton.href}),this.elements.galleryCtaButtons&&this.elements.galleryCtaButtons.forEach(e=>{e.addEventListener("click",t=>{e.disabled&&t.preventDefault()})}),document.addEventListener("keydown",e=>this.handleKeyboard(e)),this.elements.galleryModal&&this.elements.galleryModal.addEventListener("click",e=>{e.target===this.elements.galleryModal&&this.closeModal()}),this.setupHdImageLoading()}handleVideoTabInitialization(){this.hideAllSpinnersImmediately(),this.videoItems=Array.from(this.elements.videoCards||[]),this.hideVideosPlaceholder(),this.videoItems.length>0&&this.setupIntersectionObserver(),this.videoItems.length>0&&this.applyFilters(),clearTimeout(this.spinnerTimeout),this.spinnerTimeout=setTimeout(()=>{this.hideAllSpinnersImmediately(),this.hideVideosPlaceholder()},500)}attachVideoCardEvents(){const e=document.querySelectorAll(".video-card");e.forEach((t,n)=>{t.addEventListener("click",n=>{if(n.target.closest(".hostel-link-enhanced, .video-hostel-link"))return;const i=Array.from(e).indexOf(t);-1!==i&&this.openModal(i,"video")})}),this.videoItems=Array.from(e)}setupIntersectionObserver(){this.observer=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.querySelector("img");if(t&&t.dataset.src&&(t.src=t.dataset.src,t.removeAttribute("data-src")),e.target.classList.contains("gallery-item")){const t="true"===e.target.dataset.hdAvailable,n=e.target.dataset.id;t&&!this.hdImagesLoaded.has(n)&&this.preloadHdImage(n,e.target)}}})},{rootMargin:"100px",threshold:.1});("photos"===this.currentTab?document.querySelectorAll(".gallery-item"):document.querySelectorAll(".video-card")).forEach(e=>{this.observer.observe(e)})}initMediaItems(){this.mediaItems=Array.from(this.elements.galleryItems)}handleTabSwitch(e){e.preventDefault();const t=e.currentTarget,n=t.getAttribute("href").includes("videos")?"videos":t.getAttribute("href").includes("virtual-tours")?"virtual-tours":"photos";if(this.elements.tabButtons.forEach(e=>e.classList.remove("active")),t.classList.add("active"),this.elements.tabContents.forEach(e=>e.classList.remove("active")),document.getElementById(`${n}-tab`).classList.add("active"),this.currentTab=n,this.visibleItems=12,this.currentFilter="all",this.currentSearch="",this.currentVideoCategory="all",this.elements.filterButtons){this.elements.filterButtons.forEach(e=>e.classList.remove("active"));const e=Array.from(this.elements.filterButtons).find(e=>"all"===e.dataset.filter);e&&e.classList.add("active")}this.elements.searchInput&&(this.elements.searchInput.value=""),this.hideAllSpinnersImmediately(),"photos"===n?(this.initMediaItems(),this.setupIntersectionObserver(),this.applyFilters()):window.location.href=t.getAttribute("href")}handleFilter(e){const t=e.currentTarget,n=t.dataset.filter;this.elements.filterButtons.forEach(e=>e.classList.remove("active")),t.classList.add("active"),this.currentFilter=n,this.visibleItems=12,this.applyFilters()}handleSearch(e){this.currentSearch=e.target.value.toLowerCase().trim(),this.visibleItems=12,this.applyFilters()}applyFilters(){let e=0,t=[];if("photos"===this.currentTab)t=this.mediaItems;else{if("videos"!==this.currentTab&&"virtual-tours"!==this.currentTab)return;t=this.videoItems}t.forEach((t,n)=>{if(!t)return;let i=!0;("photos"===this.currentTab||"videos"===this.currentTab)&&(i="all"===this.currentFilter||t.dataset.category&&t.dataset.category===this.currentFilter||t.getAttribute("data-category")&&t.getAttribute("data-category")===this.currentFilter);const s=""===this.currentSearch||t.dataset.title&&t.dataset.title.toLowerCase().includes(this.currentSearch)||t.getAttribute("data-title")&&t.getAttribute("data-title").toLowerCase().includes(this.currentSearch)||t.dataset.description&&t.dataset.description.toLowerCase().includes(this.currentSearch)||t.getAttribute("data-description")&&t.getAttribute("data-description").toLowerCase().includes(this.currentSearch)||t.dataset.hostel&&t.dataset.hostel.toLowerCase().includes(this.currentSearch)||t.getAttribute("data-hostel")&&t.getAttribute("data-hostel").toLowerCase().includes(this.currentSearch)||t.dataset.roomNumber&&t.dataset.roomNumber.toLowerCase().includes(this.currentSearch)||t.getAttribute("data-room-number")&&t.getAttribute("data-room-number").toLowerCase().includes(this.currentSearch);let a=!0;if("virtual-tours"===this.currentTab){const e=t.getAttribute("data-is-360")||t.dataset.is360;a="true"===e||"1"===e||!0===e}let o=s;"photos"!==this.currentTab&&"videos"!==this.currentTab||(o=o&&i),"virtual-tours"===this.currentTab&&(o=o&&a),o?(t.style.display="block",t.style.opacity="1",t.style.transform="scale(1)",t.style.animationDelay=n%12*.1+"s",e++,e>this.visibleItems&&(t.style.display="none")):t.style.display="none"}),"videos"!==this.currentTab&&"virtual-tours"!==this.currentTab||this.hideVideosPlaceholder(),this.hideAllSpinnersImmediately(),this.updateLoadMoreButton(),this.checkNoResults(),setTimeout(()=>{t.forEach(e=>{e&&"block"===e.style.display&&e.classList.add("visible")})},50)}showVisibleItems(){let e=0;("photos"===this.currentTab?this.mediaItems:this.videoItems).forEach(t=>{t&&"none"!==t.style.display&&(e<this.visibleItems?(t.style.display="block",t.style.animationDelay=.1*e+"s",e++):t.style.display="none")})}loadMoreItems(){this.isLoading||(this.isLoading=!0,this.showLoading(),setTimeout(()=>{this.visibleItems+=12,this.applyFilters(),this.hideAllSpinnersImmediately(),this.isLoading=!1,this.smoothScrollToNewItems()},800))}smoothScrollToNewItems(){const e="photos"===this.currentTab?this.mediaItems:this.videoItems,t=Array.from(e).filter(e=>e&&"block"===e.style.display).slice(-12);t.length>0&&t[0].scrollIntoView({behavior:"smooth",block:"center"})}showLoading(){this.spinnerGuard||(this.elements.loadingIndicator&&(this.elements.loadingIndicator.style.display="block",this.elements.loadingIndicator.classList.remove("hidden")),this.elements.loadMoreBtn&&(this.elements.loadMoreBtn.disabled=!0,this.elements.loadMoreBtn.textContent="लोड हुँदैछ..."))}hideLoading(){this.hideAllSpinnersImmediately()}updateLoadMoreButton(){if(!this.elements.loadMoreBtn)return;("photos"===this.currentTab?this.mediaItems:this.videoItems).filter(e=>e&&"none"!==e.style.display).length<=this.visibleItems?(this.elements.loadMoreBtn.disabled=!0,this.elements.loadMoreBtn.textContent="सबै हेर्नुहोस्"):(this.elements.loadMoreBtn.disabled=!1,this.elements.loadMoreBtn.textContent="थप हेर्नुहोस्")}checkNoResults(){if(!this.elements.noResults)return;const e=("photos"===this.currentTab?this.mediaItems:this.videoItems).some(e=>e&&"none"!==e.style.display);this.elements.noResults.style.display=e?"none":"block"}setupHdImageLoading(){document.addEventListener("click",e=>{const t=e.target.closest(".hd-badge");if(t){const e=t.closest(".gallery-item");e&&this.loadHdImageForModal(e)}})}async loadHdImageForModal(e){const t=e.dataset.id,n=e.dataset.hdUrl;if(t&&n)try{const e=this.elements.modalContent.querySelector("img");e&&e.classList.add("hd-loading");const n=await fetch(`/api/gallery/${t}/hd`),i=await n.json();if(i.success&&i.hd_url){if(e){e.src=i.hd_url,e.classList.remove("hd-loading"),e.classList.add("hd-loaded");if(!this.elements.modalContent.querySelector(".modal-hd-badge")){const e=document.createElement("div");e.className="modal-hd-badge",e.innerHTML='<i class="fas fa-hd"></i> HD',this.elements.modalContent.appendChild(e)}}this.hdImagesLoaded.add(t)}}catch(i){const e=this.elements.modalContent.querySelector("img");e&&e.classList.remove("hd-loading")}}preloadHdImage(e,t){const n=t.dataset.hdUrl;if(!n||this.hdImagesLoaded.has(e))return;const i=new Image;i.src=n,i.onload=()=>{this.hdImagesLoaded.add(e),t.dataset.hdLoaded="true"}}openModal(e,t="photo"){let n;if(n="photo"===t?this.mediaItems[e]:this.videoItems[e],!n)return;this.currentMediaIndex=e;const i=n.dataset.title||n.getAttribute("data-title")||"",s=n.dataset.description||n.getAttribute("data-description")||"",a=n.dataset.category||n.getAttribute("data-category")||"",o=n.dataset.date||n.getAttribute("data-date")||"",r=n.dataset.hostel||n.getAttribute("data-hostel")||"",l=n.dataset.roomNumber||n.getAttribute("data-room-number")||"",d=n.dataset.hostelSlug||n.getAttribute("data-hostel-slug")||"",h=n.dataset.mediaType||n.getAttribute("data-media-type")||"photo",c=n.dataset.youtubeEmbed||n.getAttribute("data-youtube-embed")||"",m=n.dataset.videoUrl||n.getAttribute("data-video-url")||"",u="true"===n.dataset.is360||"true"===n.getAttribute("data-is-360"),p="true"===n.dataset.hdAvailable||"true"===n.getAttribute("data-hd-available"),g=n.dataset.hdUrl||n.getAttribute("data-hd-url")||"",y=n.dataset.id||n.getAttribute("data-id")||"";if(this.elements.modalTitle.textContent=i,this.elements.modalDescription.textContent=s,this.elements.modalCategory.textContent=a,this.elements.modalDate.textContent=o,this.elements.modalHostel.textContent=r,this.elements.modalRoom.textContent=l?`कोठा: ${l}`:"",this.elements.modalHostelLink&&d?(this.elements.modalHostelLink.href=`/hostels/${d}`,this.elements.modalHostelLink.style.display="inline-flex"):this.elements.modalHostelLink&&(this.elements.modalHostelLink.style.display="none"),this.elements.modalContent.innerHTML="","photo"===h){const e=document.createElement("img"),t=n.querySelector("img")?.src||"";if(e.src=t,e.alt=i,e.className="modal-image",e.style.width="100%",e.style.height="auto",e.style.display="block",p&&g&&(e.dataset.hdAvailable="true",e.dataset.hdUrl=g,e.dataset.mediaId=y),this.elements.modalContent.appendChild(e),p){const e=document.createElement("div");e.className="modal-hd-badge",e.innerHTML='<i class="fas fa-hd"></i> HD',e.style.position="absolute",e.style.top="10px",e.style.right="10px",e.style.background="rgba(0,0,0,0.7)",e.style.color="#10b981",e.style.padding="0.5rem 0.8rem",e.style.borderRadius="4px",e.style.fontSize="0.9rem",e.style.fontWeight="600",e.style.zIndex="10",e.style.cursor="pointer",e.title="HD संस्करण लोड गर्नुहोस्",e.addEventListener("click",()=>this.loadHdImageForModal(n)),this.elements.modalContent.appendChild(e)}}else if("external_video"===h&&c){const e=document.createElement("iframe");if(e.src=c+(c.includes("?")?"&":"?")+"autoplay=1&rel=0&controls=1&showinfo=0",e.width="100%",e.height="500",e.allowFullscreen=!0,e.style.border="none",e.className="modal-video",e.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",this.elements.modalContent.appendChild(e),u){const e=document.createElement("div");e.className="modal-360-badge",e.innerHTML='<i class="fas fa-360-degrees"></i> 360° VIEW',e.style.position="absolute",e.style.top="10px",e.style.left="10px",e.style.background="rgba(14, 165, 233, 0.9)",e.style.color="white",e.style.padding="0.5rem 0.8rem",e.style.borderRadius="4px",e.style.fontSize="0.9rem",e.style.fontWeight="600",e.style.zIndex="10",this.elements.modalContent.appendChild(e)}}else if("local_video"===h&&m){const e=document.createElement("div");e.className="modal-local-video",e.style.position="relative",e.style.width="100%",e.style.maxHeight="70vh",e.style.overflow="hidden";const t=document.createElement("video");t.src=m,t.controls=!0,t.autoplay=!0,t.style.width="100%",t.style.height="auto",t.style.maxHeight="70vh",t.style.display="block",e.appendChild(t),this.elements.modalContent.appendChild(e)}else{const e=document.createElement("img");e.src=n.querySelector("img")?.src||"",e.alt=i,e.style.width="100%",e.style.height="auto",e.style.display="block",this.elements.modalContent.appendChild(e)}this.elements.galleryModal.classList.add("active"),document.body.style.overflow="hidden",this.elements.modalContent.style.animation="modalAppear 0.3s ease-out",this.updateCurrentItemsForNavigation()}updateCurrentItemsForNavigation(){"photos"===this.currentTab?this.currentItems=Array.from(this.mediaItems).filter(e=>e&&"none"!==e.style.display):"videos"!==this.currentTab&&"virtual-tours"!==this.currentTab||(this.currentItems=Array.from(this.videoItems).filter(e=>e&&"none"!==e.style.display))}closeModal(){this.elements.galleryModal.classList.remove("active"),document.body.style.overflow="auto";const e=this.elements.modalContent.querySelector("iframe");e&&(e.src="");const t=this.elements.modalContent.querySelector("video");t&&t.pause(),this.elements.modalContent.innerHTML=""}navigateModal(e){if(this.updateCurrentItemsForNavigation(),!this.currentItems||0===this.currentItems.length)return;let t=this.currentMediaIndex+e;const n="photos"===this.currentTab?this.mediaItems[this.currentMediaIndex]:this.videoItems[this.currentMediaIndex],i=this.currentItems.findIndex(e=>e===n);if(-1===i)return;t=i+e,t<0?t=this.currentItems.length-1:t>=this.currentItems.length&&(t=0);const s=this.currentItems[t];let a;a="photos"===this.currentTab?this.mediaItems.findIndex(e=>e===s):this.videoItems.findIndex(e=>e===s),-1!==a&&(this.closeModal(),setTimeout(()=>{this.openModal(a,"photos"===this.currentTab?"photo":"video")},50))}handleKeyboard(e){if(this.elements.galleryModal&&this.elements.galleryModal.classList.contains("active"))switch(e.key){case"Escape":this.closeModal();break;case"ArrowLeft":this.navigateModal(-1);break;case"ArrowRight":this.navigateModal(1);break;case"h":case"H":const e=this.elements.modalContent.querySelector('img[data-hd-available="true"]');e&&this.loadHdImageForModal(e.closest(".gallery-item")||{dataset:{id:e.dataset.mediaId}})}}}document.addEventListener("DOMContentLoaded",function(){const t=new URLSearchParams(window.location.search),n=t.get("tab");window.handleHostelFilterChange=function(){const e=document.getElementById("hostelFilter");if(!e)return!1;const t=e.value,n=window.location.href,i=new URL(n),s=i.searchParams;return s.delete("hostel_gender"),s.delete("hostel_id"),"boys"===t||"girls"===t?s.set("hostel_gender",t):t&&""!==t&&s.set("hostel_id",t),s.delete("page"),window.location.href=i.toString(),!1};const i=document.getElementById("hostelFilter");if(i){const e=t.get("hostel_gender"),n=t.get("hostel_id");"boys"===e||"girls"===e?i.value=e:n&&(i.value=n),i.removeAttribute("onchange"),i.addEventListener("change",window.handleHostelFilterChange)}const s=new e;if(n&&document.querySelector(`.tab-btn[href*="${n}"]`)){const e=document.querySelector(`.tab-btn[href*="${n}"]`);e.classList.contains("active")||"photos"===n&&"photos"!==s.currentTab&&setTimeout(()=>{e.click()},100)}});const t=document.createElement("style");t.textContent='\n    @keyframes modalAppear {\n        from {\n            opacity: 0;\n            transform: scale(0.8) translateY(20px);\n        }\n        to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n        }\n    }\n    \n    .gallery-item, .video-card {\n        animation: itemAppear 0.6s ease-out both;\n    }\n    \n    @keyframes itemAppear {\n        from {\n            opacity: 0;\n            transform: translateY(30px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n    \n    .modal-image {\n        max-width: 100%;\n        max-height: 80vh;\n        object-fit: contain;\n        transition: all 0.3s ease;\n    }\n    \n    .modal-image.hd-loaded {\n        animation: hdLoad 0.5s ease-out;\n    }\n    \n    @keyframes hdLoad {\n        0% { opacity: 0.8; transform: scale(1); }\n        50% { opacity: 0.9; transform: scale(1.01); }\n        100% { opacity: 1; transform: scale(1); }\n    }\n    \n    .modal-image.hd-loading {\n        opacity: 0.7;\n        filter: blur(2px);\n    }\n    \n    .modal-video, .modal-local-video video {\n        width: 100%;\n        height: 500px;\n        max-height: 80vh;\n    }\n    \n    .modal-hd-badge {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n        background: rgba(0, 0, 0, 0.7);\n        color: #10b981;\n        padding: 0.5rem 0.8rem;\n        border-radius: 4px;\n        font-size: 0.9rem;\n        font-weight: 600;\n        z-index: 10;\n        display: flex;\n        align-items: center;\n        gap: 0.3rem;\n        cursor: pointer;\n        transition: all 0.3s ease;\n    }\n    \n    .modal-hd-badge:hover {\n        background: rgba(0, 0, 0, 0.9);\n        transform: scale(1.05);\n    }\n    \n    .modal-360-badge {\n        position: absolute;\n        top: 10px;\n        left: 10px;\n        background: rgba(14, 165, 233, 0.9);\n        color: white;\n        padding: 0.5rem 0.8rem;\n        border-radius: 4px;\n        font-size: 0.9rem;\n        font-weight: 600;\n        z-index: 10;\n        display: flex;\n        align-items: center;\n        gap: 0.3rem;\n    }\n    \n    .modal-actions {\n        margin-top: 1rem;\n        padding-top: 1rem;\n        border-top: 1px solid rgba(255, 255, 255, 0.2);\n    }\n    \n    .modal-hostel-link {\n        display: inline-flex;\n        align-items: center;\n        gap: 0.5rem;\n        color: white;\n        background: rgba(30, 58, 138, 0.8);\n        padding: 0.6rem 1.2rem;\n        border-radius: 4px;\n        text-decoration: none;\n        font-weight: 600;\n        transition: all 0.3s ease;\n    }\n    \n    .modal-hostel-link:hover {\n        background: rgba(30, 58, 138, 1);\n        transform: translateY(-2px);\n        color: white;\n    }\n    \n    @media (max-width: 768px) {\n        .modal-video,\n        .modal-local-video video {\n            height: 300px;\n        }\n        \n        .gallery-item, .video-card {\n            animation-delay: 0s !important;\n        }\n    }\n    \n    @media (max-width: 480px) {\n        .modal-video,\n        .modal-local-video video {\n            height: 250px;\n        }\n    }\n    \n    /* Video play button animation */\n    @keyframes pulse {\n        0% { transform: translate(-50%, -50%) scale(1); }\n        50% { transform: translate(-50%, -50%) scale(1.1); }\n        100% { transform: translate(-50%, -50%) scale(1); }\n    }\n    \n    .video-card:hover .play-button {\n        animation: pulse 1.5s infinite;\n    }\n    \n    /* Tab content transitions */\n    .tab-content {\n        animation: fadeIn 0.3s ease-out;\n    }\n    \n    @keyframes fadeIn {\n        from {\n            opacity: 0;\n            transform: translateY(10px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n    \n    /* Loading spinner */\n    .videos-loading .spinner {\n        border: 4px solid #f3f3f3;\n        border-top: 4px solid var(--gallery-primary);\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        animation: spin 1s linear infinite;\n        margin: 0 auto 1rem;\n    }\n    \n    @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n    }\n    \n    /* HD badge animation */\n    .hd-badge {\n        transition: all 0.3s ease;\n    }\n    \n    .gallery-item:hover .hd-badge {\n        background: rgba(0, 0, 0, 0.9);\n        color: #34d399;\n    }\n    \n    /* Virtual tour indicator */\n    .virtual-tour-indicator {\n        position: absolute;\n        top: 50px;\n        left: 10px;\n        background: rgba(139, 92, 246, 0.9);\n        color: white;\n        padding: 0.3rem 0.6rem;\n        border-radius: 4px;\n        font-size: 0.7rem;\n        font-weight: 600;\n        z-index: 2;\n        display: flex;\n        align-items: center;\n        gap: 0.3rem;\n    }\n    \n    /* Responsive adjustments */\n    @media (max-width: 768px) {\n        .video-categories {\n            justify-content: center;\n            flex-wrap: wrap;\n        }\n        \n        .video-category-btn {\n            flex: 1;\n            min-width: 120px;\n            text-align: center;\n        }\n    }\n    \n    /* Debug console styles */\n    .debug-console {\n        position: fixed;\n        bottom: 10px;\n        right: 10px;\n        background: rgba(0,0,0,0.9);\n        color: #10b981;\n        padding: 10px;\n        border-radius: 5px;\n        font-family: monospace;\n        font-size: 12px;\n        max-width: 300px;\n        max-height: 200px;\n        overflow-y: auto;\n        z-index: 9999;\n        display: none;\n    }\n    \n    /* ✅ FIXED: Better video modal styling */\n    .modal-video-container {\n        position: relative;\n        width: 100%;\n        height: 500px;\n        max-height: 70vh;\n        overflow: hidden;\n    }\n    \n    .modal-video-container iframe {\n        width: 100%;\n        height: 100%;\n        border: none;\n    }\n    \n    /* ✅ FIXED: Better hostel filter styling */\n    .hostel-filter select option[data-gender="boys"] {\n        color: #3b82f6;\n    }\n    \n    .hostel-filter select option[data-gender="girls"] {\n        color: #ec4899;\n    }\n    \n    /* ✅ FIXED: Enhanced styles for videos placeholder fix */\n    .videos-placeholder {\n        transition: opacity 0.3s ease, height 0.3s ease, padding 0.3s ease, margin 0.3s ease;\n        grid-column: 1 / -1;\n        text-align: center;\n        padding: 3rem;\n        display: block;\n        visibility: visible;\n        opacity: 1;\n        height: auto;\n    }\n    \n    .videos-placeholder.hidden {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n        height: 0 !important;\n        padding: 0 !important;\n        margin: 0 !important;\n        overflow: hidden !important;\n        pointer-events: none !important;\n    }\n    \n    /* ✅ CRITICAL: Force hide all spinners by default */\n    .gallery-loading.hidden,\n    .videos-loading.hidden,\n    .videos-placeholder.hidden .spinner,\n    .loading-spinner.hidden {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n    }\n    \n    /* Ensure videos grid shows properly */\n    .videos-grid {\n        position: relative;\n        min-height: 200px;\n    }\n    \n    .videos-loading {\n        transition: opacity 0.3s ease;\n    }\n    \n    .videos-loading.hidden {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n        height: 0 !important;\n        padding: 0 !important;\n        margin: 0 !important;\n        overflow: hidden !important;\n    }\n    \n    /* ✅ FIXED: Prevent flash of placeholder */\n    .tab-content:not(.active) .videos-placeholder {\n        display: none !important;\n    }\n    \n    /* ✅ FIXED: Make sure video cards are visible */\n    .video-card {\n        display: block !important;\n        visibility: visible !important;\n        opacity: 1 !important;\n    }\n    \n    /* ✅ FIXED: Smooth transition for video grid */\n    .videos-grid {\n        transition: min-height 0.3s ease;\n    }\n    \n    /* ✅ FIXED: Force videos placeholder to be hidden when not needed */\n    [data-tab="videos"] .videos-placeholder.hidden,\n    [data-tab="virtual-tours"] .videos-placeholder.hidden {\n        display: none !important;\n    }\n    \n    /* ✅ FIXED: Hidden class for all spinners */\n    .hidden {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n        height: 0 !important;\n        padding: 0 !important;\n        margin: 0 !important;\n        overflow: hidden !important;\n        pointer-events: none !important;\n    }\n',document.head.appendChild(t);
